<!-- Primary image -->
<div class="relative h-96 mt-2 flex overflow-hidden justify-center bg-white">

  <% if product.primary_image.attached? %>
    <%= image_tag product.primary_image.variant(resize_to_limit: [800, 800]), loading: "lazy",
        class: "max-h-full max-w-full object-contain rounded-xl shadow-lg", 

        data: { "gallery-target": "thumbnailEnlarge" }   %>
  <% else %>
    <%= image_tag "https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/Placeholder_view_vector.svg/1362px-Placeholder_view_vector.svg.png?20220519031949", class: "thumbnail" %>
  <% end %>

    <!-- Reset button -->
  <button type="button"
          data-action="click->gallery#reset"
          class="absolute top-2 right-2 bg-white/80 px-3 py-1 rounded-md shadow text-sm hover:bg-white">
    Reset
  </button>

</div>

<%# Thumbnail strip %>
<div class="relative flex">
  <div class="flex space-x-1 w-full overflow-auto" 
      style="scroll-behavior: smooth;">
    <% if product.images.attached? %>
      <% product.images.each do |image| %>
        <button class="relative w-40 h-40 flex-shrink-0 rounded-sm overflow-hidden">

          <%= image_tag image.variant(resize_to_limit: [150, 150]), loading: "lazy", 
                        class: "w-24 h-24 object-cover rounded-lg shadow hover:opacity-80 transition cursor-pointer", 
                        data: { action: "click->gallery#thumbnailEnlarge" } %>

        </button>
      <% end %>
    <% end %>
  </div>
</div>