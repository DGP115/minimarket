<%= form_with(model: @product, local: true) do |f| %>
  <div class="mt-6 grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6">
    <div class="sm:col-span-6">
      <%= f.label :title, class: "block text-sm font-medium text-gray-700" %>
      <div class="mt-1">
        <%= f.text_field :title, label: false, 
                          class: "shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full border-gray-300 rounded-md" %>
      </div>
    </div>
  
    <div class="sm:col-span-6">
      <%= f.label :description, class: "block text-sm font-medium text-gray-700" %>
      <div class="mt-1">
        <%= f.text_area :description, 
                         class: "shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full border-gray-300 rounded-md" %>
      </div>
    </div>

    <div class="sm:col-span-6">
      <%= f.label :price, class: "block text-sm font-medium text-gray-700" %>
      <div class="mt-1 flex rounded-md shadow-sm">
        <span class="inline-flex items-center px-3 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500 sm:text-sm">
          $
        </span>
        <%= f.text_field :price, 
                          class: "flex-1 focus:ring-blue-500 focus:border-blue-500 block w-full min-w-0 rounded-none rounded-r-md border-gray-300" %>
      </div>
    </div>

    <div class="sm:col-span-6">
      <%= f.label :images, multiple: true, class: "block text-sm font-medium text-gray-700" %>
      <div class="mt-1">
        <%# To make the file selection an addendum to what had been selected, versus a re-start, include previous images here as hidden items %>
        <% @product.images.each do |image| %>
          <%= f.hidden_field :images, multiple: true, value: image.signed_id %>
        <% end %>
        <%= f.file_field :images, multiple: true,
                          class: "block border rounded-md w-fit text-sm text-gray-500
                                  file:mr-4 file:py-1 file:px-4
                                  file:rounded-md file:border-1
                                  file:text-sm file:font-semibold
                                  file:bg-indigo-100 file:text-indigo-700
                                  hover:file:bg-indigo-50" %>
      </div>
    </div>

    <div class="sm:col-span-6">
      <%= f.submit class: "button button-sm bg-blue-500 text-yellow-400" %>
    </div>
  </div>
<% end %>